<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{/css/board/boardmodifying.css}"/>
    <script src="https://cdn.ckeditor.com/ckeditor5/41.1.0/classic/ckeditor.js"></script>
    <title>게시글 수정</title>
</head>
<body>

    <div th:replace="/html/common/navbar.html :: navbar-div">navbar div</div>

    <div class="container-xl mt-5">
        <form th:action="@{/board/{id}/modifying(id=${id})}" th:object="${req}" name="modifyingBoard" method="post">
            <fieldset>
                <legend>게시물 수정</legend>
                <hr>
                <div class="row">
                    <div class="form-group col-8">
                        <label for="title">제목 : </label>
                        <input type="text" class="form-control" th:field="*{title}" style="width:70%"/>
                    </div>
                    <div class="form-group col-4">
                        <label for="writer">글쓴이 : </label>
                        <input type="text" class="form-control" th:field="*{writer}" style="width:80%" readonly/>
                    </div>
                </div>
                <div class="form-group">
                    <label for="editor">내용 : </label><br>
                    <textarea class="form-control" th:field="*{content}" id="editor" ></textarea>
                </div>
                <hr>
                <button type="submit" class="btn btn-success bottom-button-r">작성</button>
                <button type="button" class="btn btn-secondary bottom-button-r" th:onclick="|location.href='@{/board/view/{id}(id=${id})}'|">취소</button>
            </fieldset>
        </form>
    </div>

    <script>
        ClassicEditor
        .create( document.querySelector( '#editor' ), {
            toolbar: [ 'heading', '|', 'bold', 'italic', 'link', 'bulletedList', 'numberedList', 'blockQuote' ],
            heading: {
                options: [
                    { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },
                    { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },
                    { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' }
                ]
            }
        } )
        .catch( error => {
                console.error( error );
        } );
    </script>

</body>
</html>